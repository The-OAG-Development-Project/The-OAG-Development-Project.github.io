<!DOCTYPE html>
<html lang="en-US" dir="ltr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Key management and JWT signer | OWASP-Application-Gateway</title>
    <meta name="description" content="OWASP Application Gateway is an HTTP proxy that handles Oauth2 authentication and session management">
    <meta name="generator" content="VitePress v2.0.0-alpha.15">
    <link rel="preload stylesheet" href="/assets/style.BgQj3CDO.css" as="style">
    <link rel="preload stylesheet" href="/vp-icons.css" as="style">
    
    <script type="module" src="/assets/app.CSu29m63.js"></script>
    <link rel="preload" href="/assets/inter-roman-latin.Di8DUHzh.woff2" as="font" type="font/woff2" crossorigin="">
    <link rel="modulepreload" href="/assets/chunks/theme.DrMgMbKA.js">
    <link rel="modulepreload" href="/assets/chunks/framework.C9w-46Qr.js">
    <link rel="modulepreload" href="/assets/docs_Key-management-and-JWT-signer.md.DFLEJEVZ.lean.js">
    <meta name="theme-color" content="#3eaf7c">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <script id="check-dark-mode">(()=>{const e=localStorage.getItem("vitepress-theme-appearance")||"auto",a=window.matchMedia("(prefers-color-scheme: dark)").matches;(!e||e==="auto"?a:e==="dark")&&document.documentElement.classList.add("dark")})();</script>
    <script id="check-mac-os">document.documentElement.classList.toggle("mac",/Mac|iPhone|iPod|iPad/i.test(navigator.platform));</script>
  </head>
  <body>
    <div id="app"><div class="Layout" data-v-1df9f90f><!--[--><!--]--><!--[--><span tabindex="-1" data-v-331ec75c></span><a href="#VPContent" class="VPSkipLink visually-hidden" data-v-331ec75c>Skip to content</a><!--]--><!----><header class="VPNav" data-v-1df9f90f data-v-da52a441><div class="VPNavBar" data-v-da52a441 data-v-70946a35><div class="wrapper" data-v-70946a35><div class="container" data-v-70946a35><div class="title" data-v-70946a35><div class="VPNavBarTitle has-sidebar" data-v-70946a35 data-v-1e38c6bc><a class="title" href="/" data-v-1e38c6bc><!--[--><!--]--><!----><span data-v-1e38c6bc>OWASP-Application-Gateway</span><!--[--><!--]--></a></div></div><div class="content" data-v-70946a35><div class="content-body" data-v-70946a35><!--[--><!--]--><div class="VPNavBarSearch search" data-v-70946a35><!----></div><nav aria-labelledby="main-nav-aria-label" class="VPNavBarMenu menu" data-v-70946a35 data-v-39714824><span id="main-nav-aria-label" class="visually-hidden" data-v-39714824> Main Navigation </span><!--[--><!--[--><a class="VPLink link VPNavBarMenuLink" href="/docs/" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Documentation</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://app.swaggerhub.com/apis-docs/gianlucafrei/OAG/0.4#/" target="_blank" rel="noreferrer" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>Swagger</span><!--]--></a><!--]--><!--[--><a class="VPLink link vp-external-link-icon VPNavBarMenuLink" href="https://owasp.org/www-project-application-gateway/" target="_blank" rel="noreferrer" tabindex="0" data-v-39714824 data-v-52a1d768><!--[--><span data-v-52a1d768>OWASP</span><!--]--></a><!--]--><!--]--></nav><!----><div class="VPNavBarAppearance appearance" data-v-70946a35 data-v-6c893767><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-6c893767 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div><!----><div class="VPFlyout VPNavBarExtra extra" data-v-70946a35 data-v-bf2fac68 data-v-42cb505d><button type="button" class="button" aria-haspopup="true" aria-expanded="false" aria-label="extra navigation" data-v-42cb505d><span class="vpi-more-horizontal icon" data-v-42cb505d></span></button><div class="menu" data-v-42cb505d><div class="VPMenu" data-v-42cb505d data-v-25a6cce8><!----><!--[--><!--[--><!----><div class="group" data-v-bf2fac68><div class="item appearance" data-v-bf2fac68><p class="label" data-v-bf2fac68>Appearance</p><div class="appearance-action" data-v-bf2fac68><button class="VPSwitch VPSwitchAppearance" type="button" role="switch" title aria-checked="false" data-v-bf2fac68 data-v-5337faa4 data-v-1d5665e3><span class="check" data-v-1d5665e3><span class="icon" data-v-1d5665e3><!--[--><span class="vpi-sun sun" data-v-5337faa4></span><span class="vpi-moon moon" data-v-5337faa4></span><!--]--></span></span></button></div></div></div><!----><!--]--><!--]--></div></div></div><!--[--><!--]--><button type="button" class="VPNavBarHamburger hamburger" aria-label="mobile navigation" aria-expanded="false" aria-controls="VPNavScreen" data-v-70946a35 data-v-e5dd9c1c><span class="container" data-v-e5dd9c1c><span class="top" data-v-e5dd9c1c></span><span class="middle" data-v-e5dd9c1c></span><span class="bottom" data-v-e5dd9c1c></span></span></button></div></div></div></div><div class="divider" data-v-70946a35><div class="divider-line" data-v-70946a35></div></div></div><!----></header><div class="VPLocalNav has-sidebar empty" data-v-1df9f90f data-v-db738f89><div class="container" data-v-db738f89><button class="menu" aria-expanded="false" aria-controls="VPSidebarNav" data-v-db738f89><span class="vpi-align-left menu-icon" data-v-db738f89></span><span class="menu-text" data-v-db738f89>Menu</span></button><div class="VPLocalNavOutlineDropdown" style="--vp-vh:0px;" data-v-db738f89 data-v-0bf0e06f><button data-v-0bf0e06f>Return to top</button><!----></div></div></div><aside class="VPSidebar" data-v-1df9f90f data-v-af661f50><div class="curtain" data-v-af661f50></div><nav class="nav" id="VPSidebarNav" aria-labelledby="sidebar-aria-label" tabindex="-1" data-v-af661f50><span class="visually-hidden" id="sidebar-aria-label" data-v-af661f50> Sidebar Navigation </span><!--[--><!--]--><!--[--><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Getting Started</h2><!----></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Terms-you-need-to-understand.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Terms you need to understand</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible collapsed has-active" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Configuration</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-File.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Configuration File</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Csrf-Protection.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>CSRF Protection</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-Login-Providers.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Login Providers</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-Routes.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Routes</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-SecurityProfiles.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Security Profiles</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-Session-Behaviour.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Session Behaviour</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Tracing-Log-Correlation-Correlation-Logging.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Tracing, Correlation-Logging</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Configuration-User-Mapping.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>User Mapping</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Key-management-and-JWT-signer.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Key management and JWT signer</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/TLS-configuration.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Configure TLS and the certificate used by OAG</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible collapsed" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Custom code extensions</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Custom-(code)-extensions.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Logging.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Logging</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Tracing-Log-Correlation.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Tracing, Log correlation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/JWT-Signer-(add-custom-new-signature-type-to-JWT).html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>JWT Signer and custom signature type</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Automatic-Key-Rotation.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Key Rotation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Csrf-Protection.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>CSRF Protection</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible collapsed" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>OAG API endpoints</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/OAG-API---endpoints.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>API Endpoints</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/JWKS-JWT-signing-public-keys-of-OAG.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Jwks Endpoint (public signing key)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible collapsed" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>Integrating with OAG</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Integrating-with-OAG.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Overview</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Validating-user-identity.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>User identity validation</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Token-Validation-with-Java-Spring.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Token validation (Spring/Java)</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><div class="no-transition group" data-v-8d50c081><section class="VPSidebarItem level-0 collapsible collapsed" data-v-8d50c081 data-v-d81de50c><div class="item" role="button" tabindex="0" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><h2 class="text" data-v-d81de50c>How To's</h2><div class="caret" role="button" aria-label="toggle section" tabindex="0" data-v-d81de50c><span class="vpi-chevron-right caret-icon" data-v-d81de50c></span></div></div><div class="items" data-v-d81de50c><!--[--><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/HowTo-Deploy-OAG-on-Azure-App-Service.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Deploy to Azure</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Whitelisting-of-URL&#39;s-(What-URLs-are-required-by-OAG).html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>URL Whitelisting / OAG provided URL</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Setup-for-OAG-development.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Developer Setup</p><!--]--></a><!----></div><!----></div><div class="VPSidebarItem level-1 is-link" data-v-d81de50c data-v-d81de50c><div class="item" data-v-d81de50c><div class="indicator" data-v-d81de50c></div><a class="VPLink link link" href="/docs/Create-a-new-Release.html" data-v-d81de50c><!--[--><p class="text" data-v-d81de50c>Create a new Release</p><!--]--></a><!----></div><!----></div><!--]--></div></section></div><!--]--><!--[--><!--]--></nav></aside><div class="VPContent has-sidebar" id="VPContent" data-v-1df9f90f data-v-c87f25bf><div class="VPDoc has-sidebar has-aside" data-v-c87f25bf data-v-7011f0d8><!--[--><!--]--><div class="container" data-v-7011f0d8><div class="aside" data-v-7011f0d8><div class="aside-curtain" data-v-7011f0d8></div><div class="aside-container" data-v-7011f0d8><div class="aside-content" data-v-7011f0d8><div class="VPDocAside" data-v-7011f0d8 data-v-3f215769><!--[--><!--]--><!--[--><!--]--><nav aria-labelledby="doc-outline-aria-label" class="VPDocAsideOutline" data-v-3f215769 data-v-60d5052e><div class="content" data-v-60d5052e><div class="outline-marker" data-v-60d5052e></div><div aria-level="2" class="outline-title" id="doc-outline-aria-label" role="heading" data-v-60d5052e>On this page</div><ul class="VPDocOutlineItem root" data-v-60d5052e data-v-1ce71065><!--[--><!--]--></ul></div></nav><!--[--><!--]--><div class="spacer" data-v-3f215769></div><!--[--><!--]--><!----><!--[--><!--]--><!--[--><!--]--></div></div></div></div><div class="content" data-v-7011f0d8><div class="content-container" data-v-7011f0d8><!--[--><!--]--><main class="main" data-v-7011f0d8><div style="position:relative;" class="vp-doc _docs_Key-management-and-JWT-signer" data-v-7011f0d8><div><h1 id="key-management-and-jwt-signer" tabindex="-1">Key management and JWT signer <a class="header-anchor" href="#key-management-and-jwt-signer" aria-label="Permalink to “Key management and JWT signer”">​</a></h1><h2 id="key-management-configuration" tabindex="-1">Key management configuration <a class="header-anchor" href="#key-management-configuration" aria-label="Permalink to “Key management configuration”">​</a></h2><p>This is a top level configuration element.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">keyManagementProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  keyRotationProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">defaultKeyRotation</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    useSigningKeyRotation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">true</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    signingKeyRotationSeconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">28800</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    cleanupFrequencySeconds</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">10000</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  jwkStoreProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">localRsaJwkStore</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    implSpecificSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      exampleParameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;not used&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  keyGeneratorProfile</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">rsaKeyGenerator</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keySize</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">4096</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    implSpecificSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      exampleParameter</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;not used&quot;</span></span></code></pre></div><p><strong>keyRotationProfile part</strong></p><ul><li><code>type</code>: Defines the key rotation strategy. Currently supported: &#39;defaultKeyRotation&#39;.</li><li><code>useSigningKeyRotation</code>: Set to true to automatically generate a new key from time to time (recommended). Set this to false to always keep the key generated at startup.</li><li><code>signingKeyRotationSeconds</code>: Rotate the signing key after that many seconds.</li><li><code>cleanupFrequencySeconds</code>: Run memory clean-up of expired signing keys after that many seconds. (Note that signing keys have a grace period during which they are still served when requested anyway built-in.)</li></ul><p><strong>jwkStoreProfile part</strong></p><ul><li><code>type</code>: Defines what type of keys the signing key store can hold. Currently supported: <code>localRsaJwkStore</code>.</li><li><code>implSpecificSettings</code>: Key/value pairs required by the store implementation selected above. <code>localRsaJwkStore</code> needs none.</li></ul><p><strong>keyGeneratorProfile part</strong></p><ul><li><code>type</code>: The key generator to use. Currently supported: <code>rsaKeyGenerator</code>.</li><li><code>keySize</code>: The number of bits for generated keys.</li><li><code>implSpecificSettings</code>: key generator impl specific settings. <code>rsaKeyGenerator</code> requires no additional settings.</li></ul><h3 id="key-rotation-implementations" tabindex="-1">key rotation implementations <a class="header-anchor" href="#key-rotation-implementations" aria-label="Permalink to “key rotation implementations”">​</a></h3><h4 id="defaultkeyrotation" tabindex="-1"><code>defaultKeyRotation</code> <a class="header-anchor" href="#defaultkeyrotation" aria-label="Permalink to “defaultKeyRotation”">​</a></h4><p>Implements a key rotation scheme that uses the configured keyGenerator to generate new keys and make them available in the configured jwkStore. Makes sure that on startup a new signing key is generated. Updates also the currentSigningKeyHolder with the new key. Heeds the standard configuration settings and does not require any <code>implSpecificSettings</code>.</p><h3 id="jwkstore-implementations" tabindex="-1">jwkStore implementations <a class="header-anchor" href="#jwkstore-implementations" aria-label="Permalink to “jwkStore implementations”">​</a></h3><h4 id="localrsajwkstore" tabindex="-1"><code>localRsaJwkStore</code> <a class="header-anchor" href="#localrsajwkstore" aria-label="Permalink to “localRsaJwkStore”">​</a></h4><p>Stores signing keys as long as they are valid (plus a grace time of 10 minutes) in memory and local only. Does not require any <code>implSpecificSettings</code>.</p><h3 id="key-generator-implementations" tabindex="-1">key generator implementations <a class="header-anchor" href="#key-generator-implementations" aria-label="Permalink to “key generator implementations”">​</a></h3><h4 id="rsakeygenerator" tabindex="-1"><code>rsaKeyGenerator</code> <a class="header-anchor" href="#rsakeygenerator" aria-label="Permalink to “rsaKeyGenerator”">​</a></h4><p>Generates RSA keys. Does not require any <code>implSpecificSettings</code>.</p><h2 id="jwt-signer" tabindex="-1">Jwt signer <a class="header-anchor" href="#jwt-signer" aria-label="Permalink to “Jwt signer”">​</a></h2><p>The key signer used for a JWT passed to downstream system is configured in the security profile assigned to a route and only available for &#39;jwtToken&#39;.</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">userMapping</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      type</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;jwtToken&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">      settings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;">        # ...</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        signatureImplementation</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;rsa&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">        signatureSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span></code></pre></div><p><strong>relevant settings part</strong></p><ul><li><code>signatureImplementation</code>: The signature implementation to use. Currently supported: <code>rsa</code>, <code>hmac</code> (not recommended).</li><li><code>signatureSettings</code>: signature implementation specific settings. <code>rsa</code> requires none.</li></ul><h3 id="jwt-signers-signatureimplementation" tabindex="-1">jwt signers (<code>signatureImplementation</code>) <a class="header-anchor" href="#jwt-signers-signatureimplementation" aria-label="Permalink to “jwt signers (signatureImplementation)”">​</a></h3><h4 id="rsa" tabindex="-1"><code>rsa</code> <a class="header-anchor" href="#rsa" aria-label="Permalink to “rsa”">​</a></h4><p>Implements RS256 JWT signature based on automatically generated (zero-config) keys as implemented by the key rotation configuration. Adds kid and jku headers to the JWT. Does not need any configuration settings.</p><h4 id="hmac-not-recommended" tabindex="-1"><code>hmac</code> (not recommended) <a class="header-anchor" href="#hmac-not-recommended" aria-label="Permalink to “hmac (not recommended)”">​</a></h4><p>Implements HS256, HS385, HS512 (derived from key size) JWT signatures. Adds kid header, but naturally no jku header to the JWT. Requires these <code>signatureSettings</code>:</p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">...</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">  signatureSettings</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">:</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    keyId</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;myKeyId&quot;</span></span>
<span class="line"><span style="--shiki-light:#22863A;--shiki-dark:#85E89D;">    secretKey</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;">: </span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">&quot;546573744b6579546573744b6579546573744b6579546573744b657....9&quot;</span></span></code></pre></div><p><strong>signatureSettings part</strong></p><ul><li><code>keyId</code>: The kid to be put in the JWT header.</li><li><code>secretKey</code>: The hey encoded shared key used for signing the JWT. Depending on its length HS256 (for 256-bit key), HS348 or HS512 is automatically used.</li></ul><div class="warning custom-block"><p class="custom-block-title custom-block-title-default">WARNING</p><p>Beware that the jwkStore, the keyGenerator as well as the jwtSigner used depend on each other! So if you use an RSA based JWT signer, you also need an RSA based jwkStore and keyGenerator. The keyRotation implementation is independent and relies on jwkStore and keyGenerator only.</p></div></div></div></main><footer class="VPDocFooter" data-v-7011f0d8 data-v-e257564d><!--[--><!--]--><!----><nav class="prev-next" aria-labelledby="doc-footer-aria-label" data-v-e257564d><span class="visually-hidden" id="doc-footer-aria-label" data-v-e257564d>Pager</span><div class="pager" data-v-e257564d><a class="VPLink link pager-link prev" href="/docs/Configuration-User-Mapping.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Previous page</span><span class="title" data-v-e257564d>User Mapping</span><!--]--></a></div><div class="pager" data-v-e257564d><a class="VPLink link pager-link next" href="/docs/TLS-configuration.html" data-v-e257564d><!--[--><span class="desc" data-v-e257564d>Next page</span><span class="title" data-v-e257564d>Configure TLS and the certificate used by OAG</span><!--]--></a></div></nav></footer><!--[--><!--]--></div></div></div><!--[--><!--]--></div></div><footer class="VPFooter has-sidebar" data-v-1df9f90f data-v-c3855bb3><div class="container" data-v-c3855bb3><p class="message" data-v-c3855bb3>Open-source Apache 2 Licensed | Powered by a lot of love ❤️ (and code)</p><p class="copyright" data-v-c3855bb3>Copyright © OAG Contributors</p></div></footer><!--[--><!--]--></div></div>
    <script>window.__VP_HASH_MAP__=JSON.parse("{\"docs_automatic-key-rotation.md\":\"BWSLJ1Br\",\"docs_configuration-file.md\":\"DrFqK40E\",\"docs_configuration-login-providers.md\":\"DR1bqqqN\",\"docs_configuration-routes.md\":\"CfBrHy0Z\",\"docs_configuration-securityprofiles.md\":\"DIpR9bln\",\"docs_configuration-session-behaviour.md\":\"hSPQYZ2Z\",\"docs_configuration-user-mapping.md\":\"Cv5u6o2g\",\"docs_configuration.md\":\"Cx2cI0TB\",\"docs_create-a-new-release.md\":\"Ce5n1jW6\",\"docs_csrf-protection.md\":\"BO9KKZha\",\"docs_custom-(code)-extensions.md\":\"DS0Tts65\",\"docs_howto-deploy-oag-on-azure-app-service.md\":\"C1vMSHeE\",\"docs_index.md\":\"D4kVYqDX\",\"docs_integrating-with-oag.md\":\"B7abmQKo\",\"docs_jwks-jwt-signing-public-keys-of-oag.md\":\"C8zJ-bpg\",\"docs_jwt-signer-(add-custom-new-signature-type-to-jwt).md\":\"DHJq784o\",\"docs_key-management-and-jwt-signer.md\":\"DFLEJEVZ\",\"docs_logging.md\":\"C7gYyk2Z\",\"docs_oag-api---endpoints.md\":\"D8bUdhrj\",\"docs_setup-for-oag-development.md\":\"761tceRc\",\"docs_terms-you-need-to-understand.md\":\"Cx9nVTVL\",\"docs_tls-configuration.md\":\"BlrEeSep\",\"docs_token-validation-with-java-spring.md\":\"ZDjLUYvp\",\"docs_tracing-log-correlation-correlation-logging.md\":\"DSvfnAoV\",\"docs_tracing-log-correlation.md\":\"DBCVY1n4\",\"docs_validating-user-identity.md\":\"BP6LHXhe\",\"docs_whitelisting-of-url's-(what-urls-are-required-by-oag).md\":\"DgwiFdLM\",\"index.md\":\"ToP640UU\"}");window.__VP_SITE_DATA__=JSON.parse("{\"lang\":\"en-US\",\"dir\":\"ltr\",\"title\":\"OWASP-Application-Gateway\",\"description\":\"OWASP Application Gateway is an HTTP proxy that handles Oauth2 authentication and session management\",\"base\":\"/\",\"head\":[],\"router\":{\"prefetchLinks\":true},\"appearance\":true,\"themeConfig\":{\"repo\":\"https://github.com/The-OAG-Development-Project/Application-Gateway/\",\"editLinks\":false,\"docsDir\":\"\",\"editLinkText\":\"\",\"lastUpdated\":false,\"nav\":[{\"text\":\"Documentation\",\"link\":\"/docs/\"},{\"text\":\"Swagger\",\"link\":\"https://app.swaggerhub.com/apis-docs/gianlucafrei/OAG/0.4#/\"},{\"text\":\"OWASP\",\"link\":\"https://owasp.org/www-project-application-gateway/\"}],\"sidebar\":[{\"text\":\"Getting Started\",\"base\":\"/docs\",\"items\":[{\"text\":\"Overview\",\"link\":\"/\"},{\"text\":\"Terms you need to understand\",\"link\":\"/Terms-you-need-to-understand\"}]},{\"text\":\"Configuration\",\"collapsed\":true,\"base\":\"/docs\",\"items\":[{\"text\":\"Overview\",\"link\":\"/Configuration\"},{\"text\":\"Configuration File\",\"link\":\"/Configuration-File\"},{\"text\":\"CSRF Protection\",\"link\":\"/Csrf-Protection\"},{\"text\":\"Login Providers\",\"link\":\"/Configuration-Login-Providers\"},{\"text\":\"Routes\",\"link\":\"/Configuration-Routes\"},{\"text\":\"Security Profiles\",\"link\":\"/Configuration-SecurityProfiles\"},{\"text\":\"Session Behaviour\",\"link\":\"/Configuration-Session-Behaviour\"},{\"text\":\"Tracing, Correlation-Logging\",\"link\":\"/Tracing-Log-Correlation-Correlation-Logging\"},{\"text\":\"User Mapping\",\"link\":\"/Configuration-User-Mapping\"},{\"text\":\"Key management and JWT signer\",\"link\":\"/Key-management-and-JWT-signer\"},{\"text\":\"Configure TLS and the certificate used by OAG\",\"link\":\"/TLS-configuration\"}]},{\"text\":\"Custom code extensions\",\"collapsed\":true,\"base\":\"/docs\",\"items\":[{\"text\":\"Overview\",\"link\":\"/Custom-(code)-extensions\"},{\"text\":\"Logging\",\"link\":\"/Logging\"},{\"text\":\"Tracing, Log correlation\",\"link\":\"/Tracing-Log-Correlation\"},{\"text\":\"JWT Signer and custom signature type\",\"link\":\"/JWT-Signer-(add-custom-new-signature-type-to-JWT)\"},{\"text\":\"Key Rotation\",\"link\":\"/Automatic-Key-Rotation\"},{\"text\":\"CSRF Protection\",\"link\":\"/Csrf-Protection\"}]},{\"text\":\"OAG API endpoints\",\"collapsed\":true,\"base\":\"/docs\",\"items\":[{\"text\":\"API Endpoints\",\"link\":\"/OAG-API---endpoints\"},{\"text\":\"Jwks Endpoint (public signing key)\",\"link\":\"/JWKS-JWT-signing-public-keys-of-OAG\"}]},{\"text\":\"Integrating with OAG\",\"collapsed\":true,\"base\":\"/docs\",\"items\":[{\"text\":\"Overview\",\"link\":\"/Integrating-with-OAG\"},{\"text\":\"User identity validation\",\"link\":\"/Validating-user-identity\"},{\"text\":\"Token validation (Spring/Java)\",\"link\":\"/Token-Validation-with-Java-Spring\"}]},{\"text\":\"How To's\",\"collapsed\":true,\"base\":\"/docs\",\"items\":[{\"text\":\"Deploy to Azure\",\"link\":\"/HowTo-Deploy-OAG-on-Azure-App-Service\"},{\"text\":\"URL Whitelisting / OAG provided URL\",\"link\":\"/Whitelisting-of-URL's-(What-URLs-are-required-by-OAG)\"},{\"text\":\"Developer Setup\",\"link\":\"/Setup-for-OAG-development\"},{\"text\":\"Create a new Release\",\"link\":\"/Create-a-new-Release\"}]}],\"footer\":{\"message\":\"Open-source Apache 2 Licensed | Powered by a lot of love ❤️ (and code)\",\"copyright\":\"Copyright © OAG Contributors\"}},\"locales\":{},\"scrollOffset\":134,\"cleanUrls\":false,\"additionalConfig\":{}}");</script>
    
  </body>
</html>