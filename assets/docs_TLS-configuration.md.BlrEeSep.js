import{_ as e,c as i,o as t,ah as s}from"./chunks/framework.C9w-46Qr.js";const g=JSON.parse('{"title":"TLS configuration in OAG","description":"","frontmatter":{},"headers":[],"relativePath":"docs/TLS-configuration.md","filePath":"docs/TLS-configuration.md"}'),n={name:"docs/TLS-configuration.md"};function o(r,a,l,p,c,h){return t(),i("div",null,[...a[0]||(a[0]=[s(`<h1 id="tls-configuration-in-oag" tabindex="-1">TLS configuration in OAG <a class="header-anchor" href="#tls-configuration-in-oag" aria-label="Permalink to “TLS configuration in OAG”">​</a></h1><h2 id="default-situation" tabindex="-1">Default situation <a class="header-anchor" href="#default-situation" aria-label="Permalink to “Default situation”">​</a></h2><p>By default OAG is built with a self-signed TLS certificate (for localhost) that is used to provide TLS. Usually this is not what you want and you need to replace it with a production strength certificate.</p><h1 id="options-to-change-the-certificate" tabindex="-1">Options to change the certificate <a class="header-anchor" href="#options-to-change-the-certificate" aria-label="Permalink to “Options to change the certificate”">​</a></h1><p>OAG is a SpringBoot application and uses the SpringBoot way to configure TLS. This means we ship an application.yaml as part of the fat jar. It is containing the following settings:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>server:</span></span>
<span class="line"><span>  port: 8080</span></span>
<span class="line"><span>  ssl:</span></span>
<span class="line"><span>    key-store-type: PKCS12</span></span>
<span class="line"><span>    key-store: keystore.pkcs12</span></span>
<span class="line"><span>    key-store-password: password</span></span>
<span class="line"><span>    key-alias: tls</span></span>
<span class="line"><span>    enabled-protocols: TLSv1.3</span></span></code></pre></div><p>you can now change this settings by all means SpringBoot supports, including:</p><ol><li>Providing your own application.yaml OR</li><li>Override the settings with environment variables</li></ol><h2 id="provide-your-own-application-yaml" tabindex="-1">Provide your own application.yaml <a class="header-anchor" href="#provide-your-own-application-yaml" aria-label="Permalink to “Provide your own application.yaml”">​</a></h2><p>You can override the application.yaml with your own version by eigther creating your own docker image or starting the provided docker image with an environment variable JAVA_OPTS such as:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>JAVA_OPTS=&quot;--spring.config.location=path/to/your/application.yaml&quot;</span></span></code></pre></div><p>(Make sure your application.yaml is properly protected in the file-system). The easiest way to get the original application.yaml to customize is by downloading it directly from the git repository: <a href="https://raw.githubusercontent.com/The-OAG-Development-Project/Application-Gateway/refs/heads/main/oag/src/main/resources/application.yaml" target="_blank" rel="noreferrer">https://raw.githubusercontent.com/The-OAG-Development-Project/Application-Gateway/refs/heads/main/oag/src/main/resources/application.yaml</a></p><h2 id="override-the-settings-with-environment-variables" tabindex="-1">Override the settings with environment variables <a class="header-anchor" href="#override-the-settings-with-environment-variables" aria-label="Permalink to “Override the settings with environment variables”">​</a></h2><p>Similar as above you can use JAVA_OPTS to override the settings you need to change. For example:</p><div class="language-"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark" style="--shiki-light:#24292e;--shiki-dark:#e1e4e8;--shiki-light-bg:#fff;--shiki-dark-bg:#24292e;" tabindex="0" dir="ltr"><code><span class="line"><span>JAVA_OPTS=&quot;-Dserver.ssl.key-store=path/to/your/keystore -Dserver.ssl.key-store-password=yourPassword&quot;</span></span></code></pre></div><p>(Make sure only the oag process has access to the environment-variable).</p>`,16)])])}const u=e(n,[["render",o]]);export{g as __pageData,u as default};
